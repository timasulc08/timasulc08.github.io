# Капча при регистрации - PivoGram

## Что добавлено

В проект добавлена математическая капча для защиты от автоматической регистрации ботов.

### Функциональность

1. **Генерация капчи**: Сервер генерирует простые математические примеры (сложение, вычитание, умножение)
2. **Сессии капчи**: Каждая капча имеет уникальный ID сессии и время жизни 5 минут
3. **Проверка при регистрации**: Капча проверяется только при регистрации, не при входе
4. **Обновление капчи**: Пользователь может обновить пример, если он сложный
5. **Локализация**: Поддержка русского и английского языков

### Технические детали

#### Серверная часть (server.js)
- `generateCaptcha()` - генерирует математические примеры
- `GET /api/captcha` - API для получения новой капчи
- `captchaSessions` - Map для хранения активных сессий капчи
- Проверка капчи в `POST /api/register`

#### Клиентская часть (client.js, index.html)
- Отображение капчи только при режиме регистрации
- Автоматическая загрузка новой капчи при переключении в режим регистрации
- Кнопка обновления капчи
- Проверка заполнения поля капчи перед отправкой
- Адаптивный дизайн для мобильных устройств

### Безопасность

1. **Время жизни**: Капча действительна только 5 минут
2. **Одноразовость**: Каждая капча может быть использована только один раз
3. **Очистка**: Автоматическая очистка истекших сессий
4. **Серверная проверка**: Проверка происходит на сервере, а не на клиенте

### Как протестировать

1. Запустите сервер: `npm start`
2. Откройте браузер и перейдите на сайт
3. Нажмите "Need an account? Register"
4. Увидите поле с математическим примером
5. Введите правильный ответ и зарегистрируйтесь
6. Попробуйте ввести неправильный ответ - увидите ошибку

### Примеры капчи

- `3 + 7 = ?` (ответ: 10)
- `9 - 4 = ?` (ответ: 5)  
- `6 × 3 = ?` (ответ: 18)

### Мобильная адаптация

Капча полностью адаптирована для мобильных устройств:
- Увеличенные размеры текста и полей ввода
- Удобные кнопки для сенсорного управления
- Адаптивная верстка для разных размеров экранов